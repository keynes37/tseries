<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Capstone 1</title>
    <meta charset="utf-8" />
    <meta name="author" content="Universidad del Norte Eco 1731: Econometría II" />
    <script src="CapstoneI2_files/header-attrs-2.25/header-attrs.js"></script>
    <link href="CapstoneI2_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="CapstoneI2_files/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="CapstoneI2_files/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="my-css.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Capstone 1
]
.subtitle[
## Descomposición de series de tiempo
]
.author[
### <strong>Universidad del Norte</strong> Eco 1731: Econometría II
]
.date[
### <br> <strong>Fecha Límite</strong>: viernes, 8 marzo 2024
]

---

class: clear



.mono[**ENTREGABLE**]: El proyecto debe ser realizado máximo por tres (3) personas. Para las **siguientes** preguntas conteste solo lo que se le pide. **No se acepta** ningún trabajo adicional a la fecha del _viernes 8 _ de marzo hasta la hora de las 23:59 en la carpeta del brightspace disponible para esto y cuya entrega solo debe hacerla un/a (1) de los integrantes del grupo.

Las entregas debe hacerlas en la [Carpeta Capstone](https://cursos.uninorte.edu.co/d2l/home) respectiva. **Sus entregas pueden ser de dos archivos**: (.hi[1]) Uno donde van los análisis que puede ser un documento pdf con apellidos (_p.e._, .hi[yanesramosvargas.pdf]) y en otro archivo (.hi[2]) el script de .mono[R]. Otra alternativa -que es mejor aún- es hacerlo mediante un (.hi[1]) solo archivo tipo **Markdown** donde incluye automáticamente el script y las respuestas que se solicitan del taller.

.mono[**OBJETIVO**]: Esto tiene tres intenciones: (1) re-forzar lo visto en clases; (2) Usted aprenda a preparar un informe con las herramientas de .mono[R];  y  ademas (3) ver que tan hábil es para resolver problemas con series de tiempo.

## Problema 1: Regresión en Series de Tiempo

**1a.** Tome los datos de emisión de C02 para Colombia de [Emisiones CO2](https://datosmacro.expansion.com/energia-y-medio-ambiente/emisiones-co2/colombia#:~:text=Colombia%20sube%20sus%20emisiones%20de%20CO2&amp;text=En%20la%20tabla%20vemos%20que,1%2C53%20toneladas%20por%20habitante.). Tome como referencia 1990 hasta 2021. Eso da un total de `\(n&gt;30\)` de información. Por otro lado, tome dos series de la pagina de [UPME](https://www1.upme.gov.co/simco/Cifras-Sectoriales/Paginas/Informacion-estadistica-minera.aspx) y escoja ahora dos productos *p.e (Carbón y Oro)*, busque de alguna manera que se formen con la misma periodicidad de las emisiones de C02.

**1a.** Cree una estructura de datos con tres (3) variables y conviertala en formato de serie de tiempo (ts). Muestre el encabezado con `head()`.

**1b.** Haga un breve análisis estadístico de las tres series. Mencione media, varianza, valores máximos y mínimos. *Explique e interprete*

**1c.** Cree un modelo estático (muestre la ecuación), establezca los resultados e interprete la salida del modelo. *Recomendable hacerlo como tibble o si lo prefiere con* `huxreg`.

**1d.** Genere un grupo de modelos dinámicos, pueden ser cinco (5) y arme una tabla. Si considera que debe hacerse una corrección por diferencia en sus lags, hágalo y muestre en una tabla con `huxtable` por si existe algún problema de multicolinealidad con los rezagos. Mencione que encuentra y si valía la pena corregir el problema. Plantee las diferencias entre modelos.

## Problema 2: Media y Varianza de series

Sea los siguientes procesos:

| F(x) | 0.22 | 0.17 | 0.10 | 0.05 | 0.02 | 0.36 |0.08|
|------|------|------|------|------|------|------|----|
| X    | 26   | -14  | 9    | 3    | 15   | -8   | 15 |

| F(y) | 0.12 | 0.15 | 0.10 | 0.19 | 0.30 | 0.10 |0.05|
|------|------|------|------|------|------|------|----|
| Y    | 4.2  | 4.6  | 5.6  | -2.8 | 3.6  | 9.2  | 4.2|


**2a.** Establezca el valor esperado o media `\(E(X)\)` y `\(E(Y)\)`, ademas de la varianza `\(var(X)\)`, `\(var(Y)\)` y `\(Cov(X,Y)\)` para cada una de las anteriores series.

---
class: clear

**2b.** Para las siguientes ecuaciones de serie de tiempo encuentre la media y la varianza:

- `\(Y_{t}=1+0.44Y_{t-1}+\epsilon_{t}\)` donde `\(\epsilon_{t} \sim (0, 25)\)`.  
- `\(Y_{t}=1+0.85Y_{t-1}+\epsilon_{t}\)` donde `\(\epsilon_{t} \sim (2, 8)\)`.

## Problema 3: Crecimiento de Series

**3a.** Tome nuevamente solo una de las series del punto 1, puede ser la de producción mineral (p.e: oro o carbón) que ha escogido inicialmente. Cree dos nuevas series de tiempo usando lo siguiente:

`$$\text{Crecimiento de variable}=\dfrac{X_{t}}{X_{t-1}}-1 \quad \text{ademas} \; Log(X_t)- Log(X_{t-1}) \approx \; \text{Crecimiento}$$`

**3b.** Cuál de las dos series creadas, explica mejor el crecimiento de la producción del mineral de elección?

**3c.** Intente mirar ahora el ciclo de cada una de las nuevas series. Puede ayudarse de las funciones de `autoplot` con la opción de `autolayer`. Intente explicar lo que ocurre con las dos series de crecimiento nuevas que tiene de la producción mineral. Qué diferencia nota con el ciclo de la variable en niveles (original) sin hacer transformación alguna a tasas de crecimiento.

## Problema 4: Análisis de tendencia

Tome la otra serie que ha elegido del punto 1 para lo siguiente. Recuerde que debe tener presente que si hace uso de una de ellas en el punto (3) le corresponde ahora escoger la siguiente serie de tiempo de ese punto &lt;br/&gt;

**4a.** Revise la estacionalidad de la serie. Observa algún patrón particular de la serie en cierto año? Se tuvo algún indicio de cambio anormal de su comportamiento particular?. Justifique

**4b.** Muestre que función de tendencia (convencionales y no convencionales) o ajuste se puede tener de su serie objetivo. Mencione su criterio de escogencia. 

**4c.** Plantee ahora una tendencia de tipo Box-Cox con un lambda de 0.87. Se parece o es similar en la optimización de su lambda `\((\lambda)\)`. Explique lo que encuentra.  

## Problema 5: Trabajo Poster

En conformidad con cada grupo de trabajo las series que vayan a presentar para el poster final deben:

**5a.** Establecer una descripción de la serie de tiempo y mencionar la motivación que lo/a llevó a elegir dicha serie.

**5b.** Hacer una descomposición de la serie a partir de lo estacional y/o tendencial. Muestre los gráficos de eso.

**5c.** Si por tendencia se tratara intente de retirarle la tendencia. Qué ocurre con su serie? plantee su gráfico respectivo.

**5d.** Halle la predicción de los próximos 3 periodos a acontecer. Aplique las técnicas de media móvil, Box-Cox y Holt-winters. *Cuál predice mejor?* (Puede crear una tabla y hacer comparativos).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "8.5:11",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
